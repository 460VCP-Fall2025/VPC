<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VPC Diagram – Simplified</title>
<style>
  :root{
    --vpc:#c7d2fe; --public:#d1fae5; --private:#fee2e2; --accent:#3b82f6; --blue:#2563eb; --green:#10b981; --border:#94a3b8;
  }
  html,body{margin:0;padding:0;background:#fff}
  svg{display:block;width:100vw;height:100vh}
</style>
</head>
<body>
<svg viewBox="0 0 1120 640" role="img" aria-label="AWS VPC network diagram">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,4 L0,8 Z" fill="#111827"/>
    </marker>
    <marker id="arrowAccent" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,4 L0,8 Z" fill="var(--accent)"/>
    </marker>
  </defs>

  <!-- VPC container -->
  <rect x="20" y="20" width="1080" height="600" rx="16" ry="16" fill="var(--vpc)" fill-opacity="0.35" stroke="var(--border)" stroke-dasharray="6 6"/>
  <text x="40" y="44" font-weight="700">VPC</text>

  <!-- Private Subnet (LEFT) -->
  <g id="private">
    <rect x="50" y="80" width="620" height="520" rx="12" ry="12" fill="var(--private)" stroke="#fca5a5"/>
    <text x="70" y="106" font-weight="700">Private Subnet</text>
    <!-- Private Server -->
    <rect x="280" y="280" width="200" height="80" rx="12" ry="12" fill="#ffffff" stroke="#f87171"/>
    <text x="380" y="325" text-anchor="middle" font-weight="700">Private Server</text>
  </g>

  <!-- Public Subnet (RIGHT) -->
  <g id="public">
    <rect x="680" y="80" width="390" height="520" rx="12" ry="12" fill="var(--public)" stroke="#86efac"/>
    <text x="700" y="106" font-weight="700">Public Subnet</text>
    <!-- VPN group containing Blue & Green -->
    <rect x="710" y="140" width="330" height="230" rx="12" ry="12" fill="#eef2ff" stroke="#93c5fd"/>
    <text x="875" y="166" text-anchor="middle" font-weight="700">VPN</text>
    <rect x="730" y="180" width="290" height="80" rx="10" ry="10" fill="#e0f2fe" stroke="#60a5fa"/>
    <text x="875" y="225" text-anchor="middle" font-weight="700" fill="var(--blue)">VPN – Blue</text>
    <rect x="730" y="270" width="290" height="80" rx="10" ry="10" fill="#ecfdf5" stroke="#34d399"/>
    <text x="875" y="315" text-anchor="middle" font-weight="700" fill="var(--green)">VPN – Green</text>

    <!-- NAT Gateway -->
    <rect x="740" y="470" width="250" height="80" rx="12" ry="12" fill="#fff7ed" stroke="#fdba74"/>
    <text x="865" y="510" text-anchor="middle" font-weight="700">NAT Gateway</text>
  </g>

  <!-- IGW -->
  <rect x="1050" y="280" width="50" height="70" rx="12" ry="12" fill="#eef2ff" stroke="#a5b4fc"/>
  <text x="1075" y="320" text-anchor="middle" font-weight="700">IGW</text>

  <!-- IGW -> VPN (small straight arrow to outer VPN box) -->
  <line x1="1075" y1="280"  x2="1040" y2="180"
      stroke="#111827" stroke-width="2.6" marker-end="url(#arrow)"/>
  <!-- FLOWS / ARROWS -->
  <!-- VPN -> Private (single tunnel) -->
  <path d="M710 240 C 650 255, 560 285, 480 320" fill="none" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow)"/>

  <!-- Private -> NAT (egress) -->
  <path d="M480 340 C 580 400, 690 455, 740 500" fill="none" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow)"/>

  <!-- NAT -> IGW -->
  <path d="M990 510 L 1050 320" fill="none" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow)"/>
</svg>
</body>
</html>

